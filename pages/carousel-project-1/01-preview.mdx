import {
  Sandpack,
  SandpackProvider,
  SandpackLayout,
  SandpackCodeViewer,
  SandpackPreview,
  UnstyledOpenInCodeSandboxButton,
} from "@codesandbox/sandpack-react";
import { nightOwl } from "@codesandbox/sandpack-themes";

# 프로젝트 미리보기

이번에는 HTML, CSS 그리고 조금의 자바스크립트까지 더하여 더욱 동적인 프로젝트 작업을 해보겠습니다.

우리가 작업할 프로젝트는 여러 개의 이미지를 순차적으로 보여주는 캐로우셀 UI입니다. 인터넷에서 한번쯤 사용해본 경험이 있으시죠? 아래 화면에서 좌우측 화살표를 클릭해보세요. 이미지가 변경되는 것을 확인하셨나요?

처음부터 차근차근 만들어 갈테니, 인내심을 갖고 잘 따라오시기 바랍니다. 🙇🏻‍♂️

<br/>
<br/>

<SandpackProvider
  template="vanilla"
  theme={nightOwl}
  files={{
    "/index.html": {
      code: `
<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width">
  <title>Carousel</title>
  <link href="/styles.css" rel="stylesheet" />
</head>
<body>
  <div class="carousel">
    <div class="arrow left"><</div>
    <ul>
      <li class="show">
        <img src="https://picsum.photos/id/1/400/200" />
      </li>
      <li>
        <img src="https://picsum.photos/id/2/400/200" />
      </li>
      <li>
        <img src="https://picsum.photos/id/3/400/200" />
      </li>
      <li>
        <img src="https://picsum.photos/id/4/400/200" />
      </li>
      <li>
        <img src="https://picsum.photos/id/5/400/200" />
      </li>
    </ul>
    <div class="arrow right">></div>
  </div>
  <script src="./index.js" />
</body>
</html>
`,
    },
    "/styles.css": {
      code: `html, body {
  height: 100%;
}

body {
  display: flex;
  align-items: center;
  justify-content: center;
}

.carousel p {
  text-align: center;
}

.carousel {
  width: 100%;
  height: 200px;
  position: relative;
}

.arrow {
  position: absolute;
  top: 90px;
  cursor: pointer;
  transition: all .3s linear;
  font-size: 20px;
}

.arrow:hover {
  color: #818589;
}

.arrow.left {
  left: 10px;
}

.arrow.right {
  right: 10px;
}

.carousel ul {
  width: 400px;
  margin: 0 auto;
  padding: 0;
  list-style: none;
}

.carousel li {
  position: absolute;
  opacity: 0;
  transition: all .3s linear;
}

.carousel li img {
  border-radius: 4px;
}

.carousel li.show {
  opacity: 1;
}`
    },
    "/index.js": {
        code:`const images = document.querySelectorAll(".carousel li");

const leftArrow = document.querySelector(".arrow.left");
const rightArrow = document.querySelector(".arrow.right");

let currentImageIndex = 0;

leftArrow.addEventListener("click", function () {
  if (currentImageIndex === 0) {
    currentImageIndex = 5;
  }

  currentImageIndex--;

  for (let i = 0; i < images.length; i++) {
    if (i === currentImageIndex) {
      images[currentImageIndex].classList.add("show");
    } else {
      images[i].classList.remove("show");
    }
  }
});

rightArrow.addEventListener("click", function () {
  if (currentImageIndex === 4) {
    currentImageIndex = -1;
  }

  currentImageIndex++;

  for (let i = 0; i < images.length; i++) {
    if (i === currentImageIndex) {
      images[currentImageIndex].classList.add("show");
    } else {
      images[i].classList.remove("show");
    }
  }
});`,
    }
  }}
  options={{
    showLineNumbers: true,
    initMode: "lazy",
    autoReload: false,
    activeFile: "/index.html",
  }}
  customSetup={{
    entry: "index.html",
  }}
>
  <SandpackLayout>
    <SandpackPreview showOpenInCodeSandbox={false} showRefreshButton={false} style={{ height: "400px"}}/>
  </SandpackLayout>
</SandpackProvider>

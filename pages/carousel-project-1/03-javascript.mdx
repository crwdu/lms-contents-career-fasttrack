import { FileTree } from "nextra/components";
import {
  Sandpack,
  SandpackProvider,
  SandpackLayout,
  SandpackCodeViewer,
  SandpackPreview,
  UnstyledOpenInCodeSandboxButton,
} from "@codesandbox/sandpack-react";
import { nightOwl } from "@codesandbox/sandpack-themes";

# 자바스크립트를 활용한 이미지 변경 기능

이번 단계에서는 자바스크립트와 함께 좌우 아이콘을 클릭했을때 이미지가 변경되도록 구현해보도록 하겠습니다.

<br/>

## 1. 현재 상태 점검하기

우선 현재 상태부터 다시 한번 살펴볼까요?

### 1-1. HTML 파일

▼ HTML 파일은 현재 아래와 같은 상태입니다.

```html copy filename="index.html" showLineNumbers
<!-- 혹시 오류가 있다면, 이 파일 내용을 복사하여 가져가세요! 👉🏻 -->
<!DOCTYPE html>
<html lang="ko">
  <head>
    <title>🔰 바닐라코딩</title>
    <link href="./style.css" rel="stylesheet" />
  </head>
  <body>
    <div class="carousel">
      <div class="left arrow">◀︎</div>
        <ul>
          <li>
            <img src="https://picsum.photos/id/1/400/200" />
          </li>
          <li>
            <img src="https://picsum.photos/id/2/400/200" />
          </li>
          <li>
            <img src="https://picsum.photos/id/3/400/200" />
          </li>
          <li>
            <img src="https://picsum.photos/id/4/400/200" />
          </li>
          <li>
            <img src="https://picsum.photos/id/5/400/200" />
          </li>
        </ul>
      <div class="right arrow">▶︎</div>
    </div>
  </body>
</html>
```

<br/>

### 1-2. CSS 파일

▼ CSS 파일은 현재 아래와 같은 상태입니다.

```css copy filename="style.css" showLineNumbers
body {
  background-color: #005dc70d;
}

.carousel {
  position: relative;
  display: flex;
  align-items: center;
}

.arrow {
  position: absolute;
}

.arrow.left {
  left: 10px;
}

.arrow.right {
  right: 10px;
}

.arrow:hover {
  cursor: pointer;
}

ul {
  height: 200px;
  width: 400px;
  margin: 0 auto;
  list-style: none;
  padding: 0;
  position: relative;
}

li {
  position: absolute;
}
```

<br/>

### 1-3. 현재 화면

▼ 위 파일들 내용과 동일하다면, HTML 파일을 브라우저에서 열었을때 아래와 같은 화면이 보여야 합니다.

<br/>

<SandpackProvider
  template="vanilla"
  theme={nightOwl}
  files={{
    "/index.html": {
      code: `<!DOCTYPE html>
<html>
<head>
  <title>🔰 바닐라코딩</title>
  <link href="./style.css" rel="stylesheet" />
</head>
<body>
  <div class="carousel">
    <div class="left arrow">◀︎</div>
    <ul>
      <li>
        <img src="https://picsum.photos/id/1/400/200" />
      </li>
      <li>
        <img src="https://picsum.photos/id/2/400/200" />
      </li>
      <li>
        <img src="https://picsum.photos/id/3/400/200" />
      </li>
      <li>
        <img src="https://picsum.photos/id/4/400/200" />
      </li>
      <li>
        <img src="https://picsum.photos/id/5/400/200" />
      </li>
    </ul>
    <div class="right arrow">▶︎</div>
  </div>
</body>
</html>
`,
    },
    "/style.css": {
      code: `body {
  background-color: #005dc70d;
}

 .carousel {
   position: relative;
   display: flex;
   align-items: center;
 }

 .arrow {
   position: absolute;
 }

 .arrow:hover {
   cursor: pointer;
 }

 .arrow.left {
   left: 10px;
 }

 .arrow.right {
   right: 10px;
 }

ul {
  height: 200px;
  width: 400px;
  margin: 0 auto;
  list-style: none;
  padding: 0;
  position: relative;
}

li {
  position: absolute;
}`
    },
  }}
  options={{
    showLineNumbers: true,
    initMode: "lazy",
    autoReload: false,
    activeFile: "/index.html",
  }}
  customSetup={{
    entry: "index.html",
  }}
>
  <SandpackLayout>
    <SandpackPreview showOpenInCodeSandbox={false} showRefreshButton={false} style={{ height: "240px"}}/>
  </SandpackLayout>
</SandpackProvider>

<br/>

현재 상태를 잘 확인하셨다면, 이제 기능 작업을 해볼까요?

## 2. 자바스크립트 추가하기

### 2-1. 파일 위치와 이름

▼ 우선 `app.js`라는 이름으로 자바스크립트 파일을 만들어 주세요.

<FileTree>
  <FileTree.Folder name="프로젝트 폴더" defaultOpen>
    <FileTree.File name="index.html" />
    <FileTree.File name="style.css" />
    <FileTree.File name="app.js ⭐️" />
  </FileTree.Folder>
</FileTree>

<Callout type="info" emoji="ℹ️">
  자바스크립트 파일은 반드시 위와 같이 HTML, CSS 파일과 같은 폴더(디렉토리) 내에 만들어주세요.
</Callout>

### 2-2. 파일 내용

▼ 방금 만든 자바스크립트 파일에 아래와 같은 내용을 추가해보세요.

```js copy filename="app.js" showLineNumbers
/* 마우스를 올리시면 우측에 복사할 수 있는 버튼이 나타나요! 👉🏻 */
alert("Hello, world");
```

<Callout type="info" emoji="ℹ️">
방금 작성한 자바스크립트 코드는 "Hello, world" 라는 문구가 적힌 창을 띄워달라는 명령어입니다. 아직은 세부적으로 이해하지 못해도 괜찮습니다. 🙇🏻‍♂️
</Callout>

### 2-3. HTML과 자바스크립트 연결하기

그리고 방금 만든 자바스크립트 파일을 기존 HTML 파일과 연결해주도록 하겠습니다.

▼ **29번 줄의 내용**을 추가해보세요.

```html copy filename="index.html" showLineNumbers {29}
<!DOCTYPE html>
<html lang="ko">
  <head>
    <title>🔰 바닐라코딩</title>
    <link href="./style.css" rel="stylesheet" />
  </head>
  <body>
    <div class="carousel">
      <div class="left arrow">◀︎</div>
        <ul>
          <li>
            <img src="https://picsum.photos/id/1/400/200" />
          </li>
          <li>
            <img src="https://picsum.photos/id/2/400/200" />
          </li>
          <li>
            <img src="https://picsum.photos/id/3/400/200" />
          </li>
          <li>
            <img src="https://picsum.photos/id/4/400/200" />
          </li>
          <li>
            <img src="https://picsum.photos/id/5/400/200" />
          </li>
        </ul>
      <div class="right arrow">▶︎</div>
    </div>
    <script src="./app.js" type="text/javascript"></script>
  </body>
</html>
```

### 2-4. HTML과 자바스크립트 연결 확인하기

위와 같은 상태에서 HTML 파일을 브라우저에서 열어보세요. 아래와 같은 창이 나타난다면, 잘 연결된 것입니다.

![alert](/images/posts/carousel-project/alert.png)

<Callout type="info" emoji="ℹ️">
자바스크립트 파일에서 "Hello, world" 라는 문구를 여러분이 원하는 다른 문구로 변경해보세요. 🤓
</Callout>

## 3. 좌우 방향에 따라 이미지 변경하기

### 3-1. 사용자의 클릭을 어떻게 감지할까?

이제 사용자가 좌측과 우측의 방향 아이콘을 클릭했을때, 우리가 원하는 동작을 수행하도록 연결해보겠습니다.

▼ 자바스크립트 파일 내용을 아래와 같이 수정해보세요.

```js copy filename="app.js" showLineNumbers {4-8}
/* 마우스를 올리시면 우측에 복사할 수 있는 버튼이 나타나요! 👉🏻 */
alert("Hello, world");

const rightArrow = document.querySelector(".right.arrow");

rightArrow.onclick = function () {
  alert("클릭하셨습니다!");
};
```

위와 같이 수정한 상태에서 HTML 파일을 **새로고침**하고, **우측 방향키를 클릭**해보세요.

아래와 같은 창이 나타나는 것을 확인하셨나요? 🤓

![alert](/images/posts/carousel-project/arrow_click.png)

### 3-2. 자바스크립트 코드 설명

우리가 작성한 코드에 대해 하나씩 살펴보겠습니다.

#### A. 우측 방향 아이콘을 담는 변수

```js
const rightArrow = document.querySelector(".right.arrow");
```

위의 코드부터 자세히 살펴볼까요? 위의 코드에는 우선 크게 세 가지 부분이 있습니다.

##### A-1. 웹 페이지에서 우측 방향 아이콘 찾기

```js /document.querySelector(".right.arrow")/
const rightArrow = document.querySelector(".right.arrow");
```

위에 표시된 구문은 웹 페이지 문서에서 `.right.arrow` 라는 CSS 선택자를 가진 부분을 찾는 코드입니다.

`.right.arrow`라는 선택자를 반드시 `""`와 같은 따옴표 안에 넣어, `".right.arrow"`와 같이 입력하고 실행해야 합니다.

> 우선은 위와 같이 사용할 수 있다는 것만 알아두세요. 🤓

자바스크립트에서 따옴표를 사용해 표현하는 구문을 우리는 문자열이라고 합니다.

잘 생각해보면 처음에 작성했던 코드 중, `alert("Hello, world");`라는 구문에서 `"Hello, world"` 또한 문자열이었습니다.

문자열에 대해서 잠시 살펴보고 지나가볼까요?

##### A-2. 문자열의 기본 정보

자바스크립트에서 문자열을 사용하는 방법은 정확히 3가지가 있습니다.

```js copy
// 1. ✅ 쌍따옴표로 감싸서 만들기
alert("first");

// 2. ✅ 홑따옴표로 감싸서 만들기
alert('second');

// 3. ✅ 백틱으로 감싸서 만들기
alert(`third`);
```

<Callout type="info" emoji="ℹ️">
백틱 입력키가 어디있는지 모를 경우, 아래와 같은 키워드로 구글링 해보세요.

"백틱 키 위치 윈도우 혹은 맥" 🖥️

</Callout>

우선 문자열은 반드시 양쪽을 같은 기호로 감싸야 문법적으로 유효합니다.

아래와 같이 작성할 경우, 양쪽 따옴표가 다르므로 아래 3가지 모두 문법 오류입니다.

```copy
alert("first');
alert(`second');
alert('third");
```

프로그래밍을 할때는 항상 이유에 대해서 살펴봐야 합니다.

**▶︎ 세 가지의 차이점은 무엇이고, 우리는 어떤 것들을 언제 사용해야 할까요?**

쌍따옴표와 홑따옴표는 스타일의 차이 외에 아무런 차이가 없습니다. 그렇지만, **코드는 항상 일관된 스타일로 작성해야 하기에, 둘 중 한가지로 통일해서 작성하도록 해야 합니다.** 그래야 깨끗하고 정돈된 글이 작성되어 팀원들 모두가 함께 읽을 수 있는 글이 탄생합니다.

백틱은 일반 따옴표와는 조금 다릅니다. 특별한 기능이 있습니다.

> 아직 다 이해가 안되더라도 살펴보세요.

```js copy
const greeting = "hello";

alert(`${greeting}, world`);
```

위와 같이 백틱은 문자열 내부에 다른 데이터를 추가해서 사용할 수 있습니다. 위 구문을 실행시켜보시고 화면에 나타나는 창에 어떤 글씨가 표시되는지 확인해보세요. 🤓

##### A-3. 문자열의 덧셈

문자열은 여러 개를 더하여 사용할 수 있습니다.

```js copy
alert("Hello," + "world");
```

위의 예시를 실행하면 `"Hello,world"`라는 문구가 표시됩니다.

<Callout type="info" emoji="ℹ️">
당연한 결과이긴 하지만, 쉼표 옆에 공백이 없습니다.

문자열은 더할 수 있다고 했지만, 사실 조금 더 정확히 이야기하자면 **이어 붙인다고 표현하는게** 맞을 것 같습니다. 😎
</Callout>

##### A-4. 문자열의 길이

모든 문자열은 우리에게 문자열의 길이를 판별할 수 있는 방법을 제공합니다.

예를 들어 다음과 같죠. 아래와 같이 코드를 작성하여 실행해보세요.

```js copy
const myName = "ken";

alert(myName.length);
```

`3`이라는 숫자가 표시되었나요?

여러분이 원하는 문자열의 뒤에 `.length` 라고 붙이면 그 구문은 해당 문자열의 길이를 숫자로 알려주게 됩니다.

`"ken"` 이라는 문자열은 3개의 알파벳이 있기 때문에 길이는 3이고, `.length` 를 붙이면 3이 됩니다.

이쯤에서 이제 우리가 배운 내용이 조금 있으니, 몇 가지를 조합해서 살펴볼까요?

아래 두 가지 구문은 동일한 결과를 화면에 표시합니다.

```javascript copy
// ✅ 1번 구문
alert("안녕하세요, 제 이름은 ken입니다. 제 이름은 3글자 입니다.");

// ✅ 2번 구문
const myName = "ken";
alert(`안녕하세요, 제 이름은 ${myName}입니다. 제 이름은 ${myName.length}글자 입니다.`);
```

<Callout type="info" emoji="ℹ️">
자바스크립트는 프로그래밍 **"언어"** 입니다.

한국어도 언어고, 영어도 언어죠. 상황에 따라 더욱 적절한 워딩은 있을 수 있지만, 한 가지 정답만 있는 것은 아닙니다.

배가 고프다. 허기지다. 굶주렸다. 꼬르륵 거린다. 등 모두 동일한 의미죠.

프로그래밍 언어 또한 마찬가지입니다.

흑백 논리와 같이 정답과 오답이 존재하지 않고, 같은 상황이라도 여러 가지 방법이 있을 수 있습니다. 이런 특성을 이해하고 우리는 서로의 생각을 교류하고 장단점을 비교하고 최선을 찾아야 합니다.
</Callout>

##### A-2. 변수 만들기

이제 우리가 작업하던 코드 내용을 다시 살펴보겠습니다.

```js /const rightArrow/
const rightArrow = document.querySelector(".right.arrow");
```

위에 표시된 구문은 `rightArrow`라는 이름의 변수를 만드는 코드입니다.

▶︎ **변수를 만든다는 것은 무엇일까요?**

자바스크립트는 이미 언어 차원에서 사용 가능한 기능과 키워드들이 있습니다. 별도의 작업없이 자바스크립트 환경에서라면 늘 사용할 수 있는 것이죠.

예를 들어, 위에서 살펴봤던 더하기 연산자(`+`)와 같은 것도 그 중 일부입니다.

앞으로 더 많은 기능과 키워드를 살펴보겠지만, 우리가 특별히 만들어 이름지어 사용하고 싶은 내용이 있다면 변수를 만들어 활용해야 합니다.

그렇기에, 위에 작성된 코드는 `rightArrow`라는 이름을 자바스크립트가 이해할 수 있게 만들어 주는 코드입니다.

`rightArrow`라는 변수를 만들어 주고 나면, 자바스크립트는 `rightArrow`라는 이름을 이해할 수 있게 됩니다.

반대로, 자바스크립트에 기본적으로 내장된 기능이 아니거나 혹은 우리가 별도로 만들어 주지도 않았던 이름을 사용하게 되면 자바스크립트는 오류를 발생시킵니다.

아래는 오류를 발생시키는 구문의 예시입니다.

```js
const myName = "ken";
alert(`나의 이름은 ${MyName}입니다.`);
```

▶︎ **우리는 우측 방향 아이콘을 담아두고 다양하게 활용하기 위한 목적으로 변수를 선언해주었습니다.**

##### A-3. 대입(할당)하기

마지막으로, 우리가 작업했던 코드의 중간에는 아래와 같은 구문이 있었습니다. 수학 시간에는 "같다"라는 의미로 사용되었던 기호죠?

```js / = /
const rightArrow = document.querySelector(".right.arrow");
```

자바스크립트, 그리고 프로그래밍의 세계에서는 같다는 의미가 아니라 우측의 값을 좌측으로 대입하는 연산자로 사용됩니다.

즉, 위 구문에서는

1. `rightArrow`라는 이름의 변수를 새롭게 만들고,
2. `".right.arrow"`라는 CSS 선택자를 가진 요소를 웹 페이지 문서에서 찾고,
3. 그 요소를 `rightArrow`라는 변수에 담아두고 있습니다.

#### B. 클릭했을때, 코드 실행하기

이제 아래에서 6-8번 줄의 내용을 살펴보도록 하겠습니다.

```js copy filename="app.js" showLineNumbers {6-8}
/* 마우스를 올리시면 우측에 복사할 수 있는 버튼이 나타나요! 👉🏻 */
alert("Hello, world");

const rightArrow = document.querySelector(".right.arrow");

rightArrow.onclick = function () {
  alert("클릭하셨습니다!");
};
```

##### B-1. 웹 페이지에서 발생하는 이벤트

이전 단계에서 우리는 웹 페이지 문서에서 `document.querySelector`를 활용하여 `rightArrow` 변수에 우측 방향 아이콘 요소를 담아두었습니다.

이 요소를 사용자가 클릭했을때 어떤 코드를 실행하고 싶다면 방금 위에서 우리가 작성한 6-8번 줄처럼 코드를 작성하면 되는데요.

`.onclick`이라는 부분은 사용자가 `click`하는 행위를 감지하는 것을 가능하게 해주는 기능을 합니다.

```js copy filename="app.js" showLineNumbers /.onclick/
/* 마우스를 올리시면 우측에 복사할 수 있는 버튼이 나타나요! 👉🏻 */
alert("Hello, world");

const rightArrow = document.querySelector(".right.arrow");

rightArrow.onclick = function () {
  alert("클릭하셨습니다!");
};
```

현재 우리는 사용자의 클릭 행위를 감지해야 하기 때문에 `onclick`이라고 해주었지만, 자바스크립트를 사용하여 우리는 웹 사이트와 사용자 간의 상호작용 대부분을 감지할 수 있습니다.

사용자가 웹 사이트에서 특정 부분을 클릭하거나 마우스를 스크롤 하는 등, 자바스크립트로 감지할 수 있는 인터렉션을 **이벤트**라고 합니다. 그리고 이런 인터렉션이 발생한 것을 이벤트가 발생했다고 말합니다.

<Callout type="info" emoji="ℹ️">
우리가 자바스크립트로 사용자의 인터렉션을 감지할 수 있는 이벤트의 종류에는 매우 많은 것들이 있습니다. 모두 외울 필요는 전혀 없고, 자주 사용하는 것들만 알아두고 가끔 필요할때 추가적으로 조사하여 사용할 수 있다면 충분합니다. 지금은 클릭 이벤트 정도만 알아두세요.
</Callout>

##### B-2. 코드의 집합, 함수

그렇다면, 사용자가 `rightArrow`를 클릭했을때 어떤 코드가 실행될까요?

이것을 결정하는 것이 바로 `onclick` 우측에 주어졌던

```js
function () {
  alert("클릭하셨습니다!");
}
```

부분에 해당하는 코드입니다.

```js copy filename="app.js" showLineNumbers {6-8}
/* 마우스를 올리시면 우측에 복사할 수 있는 버튼이 나타나요! 👉🏻 */
alert("Hello, world");

const rightArrow = document.querySelector(".right.arrow");

rightArrow.onclick = function () {
  alert("클릭하셨습니다!");
};
```

`onclick`에 대입된 우항의 부분을 우리는 **함수**라고 부릅니다.

##### B-3. 함수란?

자바스크립트에서 함수는 **여러 개의 명령어를 묶음 단위로 실행할 수 있는 기능**을 제공합니다.

예를 들어, 여러분이 드론을 조종한다고 생각해보세요.

같은 패턴의 명령어들의 루틴을 매일 아침마다 실행해야 합니다.

- **오른쪽으로 10m 👉🏻 왼쪽으로 5m 👉🏻 왼쪽으로 다시 5m 👉🏻 윗쪽으로 3m**

매일 루틴처럼 해야 하는 명령어다보니, 조금 더 편리하게 처리할 수 있는 방법이 있다면 좋을것 같습니다.

그래서 우리는 드론에게 **"오전 루틴"** 은 **"오른쪽으로 10m 👉🏻 왼쪽으로 5m 👉🏻 왼쪽으로 다시 5m 👉🏻 윗쪽으로 3m"** 이라고 기억하도록 합니다. 그리고 이제 각 명령어를 구체적으로 명시하기 보다는, **"오전 루틴을 실행해줘"** 라고만 명령합니다.

자바스크립트의 함수도 이와 같이 1개 이상의 명령어들을 집합으로 묶어 실행할 수 있도록 하는 기능을 제공합니다.

코드로 한번 살펴볼까요?

```js copy showLineNumbers
function alertTwice () {
  alert("안녕하세요!");
  alert("여기는 한국입니다!");
}
```

위에서 작성한 코드는,

1. `alertTwice` 이라는 이름의 새로운 변수를 만드는 것과 같이, 자바스크립트는 `alertTwice` 이라는 이름을 이해할 수 있게 됩니다.
2. 위의 예시 코드는 `alertTwice` 이라는 함수를 **만드는** 코드입니다. 함수를 만들었다는 의미는 함수 내부의 코드를 실행하는 것과는 다른 뜻입니다. 단지 만들어 놓기만 했을 뿐입니다.
3. 그렇기에 위와 같은 코드를 실행시켜도 경고창이 나타나지는 않습니다.

이번에는 다음과 같은 코드를 한번 실행시켜보세요.

```js copy showLineNumbers /alertTwice();/
function alertTwice () {
  alert("안녕하세요!");
  alert("여기는 한국입니다!");
}

alertTwice();
```

**함수 이름 뒤에 바로 이어서 소괄호를 붙이면 해당 함수의 내용이 실행됩니다.**

> 함수의 내용이라는 것은 함수 중괄호 내부의 코드 내용을 뜻합니다.

그렇기에 위와 같이 실행할 경우, 경고창이 연속으로 두 번 나타나는 것을 확인할 수 있습니다. 우리가 만든 함수가 경고창을 두 번 나타나게 하는 코드를 갖고 있고, 우리가 그 함수가 동작하도록 실행했기 때문입니다.

그렇다면 아래와 같이 코드를 실행하면 경고창은 몇번 나타날까요? 직접 확인해보세요.

```js copy showLineNumbers /alertTwice();/
function alertTwice () {
  alert("안녕하세요!");
  alert("여기는 한국입니다!");
}

alertTwice();
alertTwice();
```

종합적으로 다시 정리하자면,

```js copy filename="app.js" showLineNumbers {6-8}
/* 마우스를 올리시면 우측에 복사할 수 있는 버튼이 나타나요! 👉🏻 */
alert("Hello, world");

const rightArrow = document.querySelector(".right.arrow");

rightArrow.onclick = function () {
  alert("클릭하셨습니다!");
};
```

현재 우리가 작성한 자바스크립트 코드는, 사용자가 `rightArrow` 요소를 클릭했을때 `"클릭하셨습니다!"`라는 문구를 경고창에 띄워주는 내용을 담고 있습니다.

## 4. 우측 방향 아이콘 클릭했을때 다음 이미지 보여주기

그렇지만 우리는 사용자가 우측 방향 아이콘을 클릭했을때 `"클릭하셨습니다!"`라는 문구를 경고창에 보여주는 것이 아니라 이미지를 변경해주어야 합니다.

### 4-1. 첫 번째 이미지 외에 나머지는 숨겨놓기

▼ HTML 파일을 아래와 같이 수정해보세요.

```html copy filename="index.html" showLineNumbers /class="show"/
<!-- 혹시 오류가 있다면, 이 파일 내용을 복사하여 가져가세요! 👉🏻 -->
<!DOCTYPE html>
<html lang="ko">
  <head>
    <title>🔰 바닐라코딩</title>
    <link href="./style.css" rel="stylesheet" />
  </head>
  <body>
    <div class="carousel">
      <div class="left arrow">◀︎</div>
        <ul>
          <li class="show">
            <img src="https://picsum.photos/id/1/400/200" />
          </li>
          <li>
            <img src="https://picsum.photos/id/2/400/200" />
          </li>
          <li>
            <img src="https://picsum.photos/id/3/400/200" />
          </li>
          <li>
            <img src="https://picsum.photos/id/4/400/200" />
          </li>
          <li>
            <img src="https://picsum.photos/id/5/400/200" />
          </li>
        </ul>
      <div class="right arrow">▶︎</div>
    </div>
  </body>
</html>
```

▼ CSS 파일 또한 아래와 같이 수정해보세요.

```css copy filename="style.css" showLineNumbers /opacity: 0;/ {41-43}
body {
  background-color: #005dc70d;
}

.carousel {
  position: relative;
  display: flex;
  align-items: center;
}

.arrow {
  position: absolute;
}

.arrow.left {
  left: 10px;
}

.arrow.right {
  right: 10px;
}

.arrow:hover {
  cursor: pointer;
}

ul {
  height: 200px;
  width: 400px;
  margin: 0 auto;
  list-style: none;
  padding: 0;
  position: relative;
}

li {
  position: absolute;
  opacity: 0;
}

li.show {
  opacity: 1;
}
```

`opacity`는 요소의 투명도를 조절할 수 있는 CSS 속성입니다. 0은 투명하여 눈에 보이지 않는 상태, 1은 불투명하여 눈에 잘 보이는 일반적인 상태입니다. 0과 1의 중간 소숫점으로 설정하면 약간 투명한 상태로 설정됩니다.

우리는 첫 번째 이미지를 담은 `li` 요소를 제외하고 나머지 `li` 요소들은 모두 투명하게 처리해두었고, 사용자의 클릭 행위에 따라 이미지의 투명도를 조정해줄 계획입니다.

### 4-2. 두 번째 이미지 보여주기

사용자가 우측 방향 아이콘을 클릭했을때 두 번째 이미지를 보여주는 코드를 우선 작성해보겠습니다.

```js copy filename="app.js" showLineNumbers {5, 10-11}
/* 마우스를 올리시면 우측에 복사할 수 있는 버튼이 나타나요! 👉🏻 */
alert("Hello, world");

const rightArrow = document.querySelector(".right.arrow");
const lists = document.querySelectorAll("li");

rightArrow.onclick = function () {
  alert("클릭하셨습니다!");

  lists[0].classList.remove("show");
  lists[1].classList.add("show");
};
```

위와 같이 코드를 추가하고, 우측 방향 아이콘을 1회 클릭해보시면 첫 번째 이미지가 두 번째 이미지로 교체되는 것을 확인할 수 있습니다.

위에 작성한 코드를 한번 살펴볼까요?

#### A. 모든 `li` 요소 찾기

```js copy filename="app.js" showLineNumbers {5}
/* 마우스를 올리시면 우측에 복사할 수 있는 버튼이 나타나요! 👉🏻 */
alert("Hello, world");

const rightArrow = document.querySelector(".right.arrow");
const lists = document.querySelectorAll("li");

rightArrow.onclick = function () {
  alert("클릭하셨습니다!");

  lists[0].classList.remove("show");
  lists[1].classList.add("show");
};
```

우선 위의 구문에서 `document.querySelectorAll`은 `li`라는 CSS 선택자 문법(`li` 태그 요소)를 사용하여 이에 해당하는 **모든 요소**를 찾는 코드입니다.

현재는 5개의 리스트가 있기 때문에 5개의 요소를 모두 찾게 됩니다. 그리고 찾은 5개의 요소들을 배열의 형태로 `lists`라는 변수에 담고 있습니다.

##### A-1. 배열이란?

배열이라는 단어가 생소했나요?

배열이란, 자바스크립트에서 여러 개의 데이터를 담을 수 있는 형태의 구조를 뜻합니다. 중요한 특징으로는 배열에 담긴 데이터들은 정해진 순서가 있다는 것입니다.

배열은 흔히 아래와 같이 대괄호로 표기합니다.

```js
const fruits = ["apple", "orange", "grape"];
```

배열 안에 들어있는 값들을 **요소**라고 합니다. (웹 페이지 문서의 요소와는 또 다른 의미의 요소입니다.)

위의 `fruits` 변수에 담긴 배열의 경우,

1. 첫 번째 요소는 `'apple'`,
2. 두 번째 요소는 `'orange'`,
3. 세 번째 요소는 `'grape'`입니다.

그래서 `fruits` 배열은 3개의 요소를 갖고 있다고 말할 수 있습니다.

##### A-2. 배열의 길이

모든 배열은 요소의 갯수에 대한 정보를 아래와 같이 `.length` 속성을 제공합니다. (문자열과 동일합니다.)

```javascript copy
const fruits = ["apple", "orange", "grape"];

alert(`과일은 ${fruits.length}가지가 있습니다.`);
```

##### A-3. 배열과 함수 함께 사용해보기

이전에 함수에 대하여 배웠으니, 함수를 응용하여 코드를 한번 작성해볼까요?

```javascript copy
const fruits = ["apple", "orange", "grape"];

function getNumOfFruits() {
  alert(`과일은 ${fruits.length}가지가 있습니다.`);
}

getNumOfFruits();
```

##### A-4. 요소의 순서, 인덱스

배열의 요소들은 순서가 정해져 있는데, 이 순서를 인덱스(index)라고 부릅니다.

인덱스는 특이하게도, 0부터 시작하는 체계로 이루어져 있습니다.

예를 들어,

```js
const fruits = ["apple", "orange", "grape"];
```

위와 같은 배열이 있다고 한다면, `fruits` 배열의 0번 인덱스에는 `"apple"`이 있고, 1번 인덱스에는 `"orange"`가 있고, `"grape"`는 2번 인덱스에 위치해 있습니다.

배열의 특정 인덱스에 접근하기 위해서는 대괄호 문법을 활용해야 합니다.

```js
const fruits = ["apple", "orange", "grape"];

alert(`${fruits[0]}은 사과입니다.`);
alert(`${fruits[1]}은 오렌지입니다.`);
alert(`${fruits[2]}은 포도입니다.`);
```

##### A-6. 모든 li 요소?

다시 원점으로 돌아가 기존에 작성한 코드를 보면

```js
const lists = document.querySelectorAll("li");
```

`lists` 변수에 담기는 것은 현재 배열이고, HTML 문서 상의 순서대로 담기게 됩니다.

> [ 1번 이미지, 2번 이미지, 3번 이미지, 4번 이미지, 5번 이미지 ]

#### B. 클래스 변경하기

```js
lists[0].classList.remove("show");
lists[1].classList.add("show");
```

기존에 추가한 코드에서 위의 코드는, `lists` 배열의 0번 인덱스 요소에게 `"show"`라는 클래스를 제거합니다. 그리고 `lists` 배열의 1번 인덱스 요소에게 `"show"`라는 클래스를 추가합니다.

위와 같이 클래스를 제거하고 추가하면, CSS에서 선언된 투명도 또한 함께 적용되므로 0번 인덱스의 이미지는 투명해지게 되어 눈에서 보이지 않게 되고, 1번 인덱스의 이미지는 보여지게 됩니다.

### 4-3. 다음 이미지로 변경하기

현재는 0번 인덱스의 이미지를 1번 인덱스의 이미지로 변경하게끔 동작합니다. 그렇지만 우리가 원하는 기능이 온전히 정상적으로 이루어지지는 않습니다.

우리는 0번에서 1번 인덱스로, 1번에서 2번 인덱스로, 2번에서 3번 인덱스로, 3번에서 4번 인덱스로, 그리고 그 후에는 다시 0번 인덱스로 이동해야 합니다.

다시 0번 인덱스로 이동하는 부분은 추후에 고려하도록 하고, 우선 인덱스를 증가시키며 다음 이미지를 보여주도록 자바스크립트 코드를 수정해보겠습니다.

#### A. 의사 코드

> 의사 코드란, 구체적인 프로그래밍 문법이 아닌 사람의 언어로 구성해야 할 논리를 표현하는 것을 의미합니다.

우선 우리는 사용자가 우측 방향 아이콘을 클릭했을때 다음과 같은 흐름의 로직을 작성할 계획입니다.

1. 보여주어야 하는 이미지의 인덱스 위치를 기록합니다. 처음에는 0부터 시작합니다. (화면에는 첫 번째 이미지가 보여지고 있습니다.)
2. 모든 이미지들에게서 `show` 클래스를 제거하고 화면에서 보이지 않게 처리합니다.
3. 보여주어야 하는 이미지의 인덱스 위치를 1만큼 증가시킵니다.
4. 이전 단계에서 1만큼 증가시킨 인덱스 위치에 있는 이미지에게 `show` 클래스를 추가하여 화면에 보여지게 처리합니다.

#### B. 실제 자바스크립트 코드

```js copy filename="app.js" showLineNumbers {7, 12-16, 18, 20}
/* 마우스를 올리시면 우측에 복사할 수 있는 버튼이 나타나요! 👉🏻 */
alert("Hello, world");

const rightArrow = document.querySelector(".right.arrow");
const lists = document.querySelectorAll("li");

let currentImageIndex = 0;

rightArrow.onclick = function () {
  alert("클릭하셨습니다!");

  lists[0].classList.remove("show");
  lists[1].classList.remove("show");
  lists[2].classList.remove("show");
  lists[3].classList.remove("show");
  lists[4].classList.remove("show");

  currentImageIndex = currentImageIndex + 1;

  lists[currentImageIndex].classList.add("show");
};
```

##### B-1. 변수를 만드는 또 다른 방법

위에서 작성한 코드 중,

```js
let currentImageIndex = 0;
```

이라는 코드는 `currentImageIndex`라는 변수를 만들고 자바스크립트에게 `currentImageIndex`라는 단어의 의미는 `0`이라고 알려주는 의미입니다.

`let`과 `const`라는 명령어 모두 변수를 만드는 기능을 하지만 미세한 차이가 있습니다. 아직은 여러분께 중요하지는 않으니, 크게 고민하지는 마세요.

<Callout type="info" emoji="ℹ️">
  `let`은 해당 변수에 새로운 값을 재할당 하는 경우에 사용합니다. 현재 작성한 코드에서는 18번째 줄에서 `currentImageIndex` 변수의 값을 새롭게 할당하고 있기 때문에 `let`을 사용했습니다.
</Callout>

##### B-2. 변수를 활용하여 인덱스 접근하기

```js
lists[currentImageIndex].classList.add("show");
```

위와 같은 코드는 인덱스가 들어가야 할 자리에 `currentImageIndex`라는 변수가 들어가 있습니다. 그리고 `currentImageIndex` 변수는 숫자를 담고 있죠.

해당 코드가 실행되는 순간의 `currentImageIndex` 값이 인덱스로 활용되어 코드 구문이 실행되는 것입니다.

만약 `currentImageIndex`가 0이라면 해당 구문은,

```js
lists[0].classList.add("show");
```

처럼 동작하는 것이고,

만약 `currentImageIndex`가 100이라면 해당 구문은,

```js
lists[100].classList.add("show");
```

처럼 동작하는 것입니다.

## 5. 마지막 이미지에서 첫 이미지로 돌아가기

현재 우리는 사용자가 우측 방향 아이콘을 클릭할때마다 `currentImageIndex`를 1만큼 증가시키고 해당 인덱스에 위치한 리스트 요소를 보여주도록 코드를 작성했습니다.

하지만 현재 코드의 내용대로라면 `currentImageIndex`는 계속 증가하기만 할 뿐, 다시 0번 인덱스로 회귀하지는 않습니다.

우리의 `currentImageIndex`는 언제 0으로 회귀해야 할까요?

`currentImageIndex`를 1만큼 증가시킨 값이 5(6번째 요소를 가리키게 되는 상황)가 되었다면 우리는 `currentImageIndex`를 다시 0으로 되돌려야 합니다.

다음과 같이 코드를 수정해보세요.

```js copy filename="app.js" showLineNumbers {20-22}
/* 마우스를 올리시면 우측에 복사할 수 있는 버튼이 나타나요! 👉🏻 */
alert("Hello, world");

const rightArrow = document.querySelector(".right.arrow");
const lists = document.querySelectorAll("li");

let currentImageIndex = 0;

rightArrow.onclick = function () {
  alert("클릭하셨습니다!");

  lists[0].classList.remove("show");
  lists[1].classList.remove("show");
  lists[2].classList.remove("show");
  lists[3].classList.remove("show");
  lists[4].classList.remove("show");

  currentImageIndex = currentImageIndex + 1;

  if (currentImageIndex === 5) {
    currentImageIndex = 0;
  }

  lists[currentImageIndex].classList.add("show");
};
```

위에서 사용된 `if ~`는 조건문이라고 부르는 자바스크립트 문법입니다. 소괄호 안에 들어간 구문이 참이 된다면, 조건문 중괄호 내부의 코드가 실행됩니다.

또한 `===` 기호는 **"같다"**는 비교를 하는 비교 연산자입니다. 비교 연산자를 기준으로 하여, 좌측의 값과 우측의 값이 같은 값인지 비교합니다.

즉, `currentImageIndex`가 5와 일치할때, 우리는 `currentImageIndex`를 0으로 다시 할당하는 코드를 작성한 것입니다.

## 6. Fade 효과 추가하기

▼ 아래와 같이 CSS 코드를 수정해보세요.

```css copy filename="style.css" showLineNumbers {39}
body {
  background-color: #005dc70d;
}

.carousel {
  position: relative;
  display: flex;
  align-items: center;
}

.arrow {
  position: absolute;
}

.arrow.left {
  left: 10px;
}

.arrow.right {
  right: 10px;
}

.arrow:hover {
  cursor: pointer;
}

ul {
  height: 200px;
  width: 400px;
  margin: 0 auto;
  list-style: none;
  padding: 0;
  position: relative;
}

li {
  position: absolute;
  opacity: 0;
  transition: all 1s linear;
}

li.show {
  opacity: 1;
}
```

## 7. 현재 상황 점검하기

### HTML 내용

▼ 현재 HTML은 아래와 같은 상태입니다.

```html copy filename="index.html" showLineNumbers
<!DOCTYPE html>
<html lang="ko">
  <head>
    <title>🔰 바닐라코딩</title>
    <link href="./style.css" rel="stylesheet" />
  </head>
  <body>
    <div class="carousel">
      <div class="left arrow">◀︎</div>
        <ul>
          <li class="show">
            <img src="https://picsum.photos/id/1/400/200" />
          </li>
          <li>
            <img src="https://picsum.photos/id/2/400/200" />
          </li>
          <li>
            <img src="https://picsum.photos/id/3/400/200" />
          </li>
          <li>
            <img src="https://picsum.photos/id/4/400/200" />
          </li>
          <li>
            <img src="https://picsum.photos/id/5/400/200" />
          </li>
        </ul>
      <div class="right arrow">▶︎</div>
    </div>
    <script src="./app.js" type="text/javascript"></script>
  </body>
</html>
```

### CSS 내용

▼ 현재 CSS은 아래와 같은 상태입니다.

```css copy filename="style.css" showLineNumbers
body {
  background-color: #005dc70d;
}

.carousel {
  position: relative;
  display: flex;
  align-items: center;
}

.arrow {
  position: absolute;
}

.arrow.left {
  left: 10px;
}

.arrow.right {
  right: 10px;
}

.arrow:hover {
  cursor: pointer;
}

ul {
  height: 200px;
  width: 400px;
  margin: 0 auto;
  list-style: none;
  padding: 0;
  position: relative;
}

li {
  position: absolute;
  opacity: 0;
  transition: all 1s linear;
}

li.show {
  opacity: 1;
}
```

### JavaScript 내용

▼ 현재 JavaScript는 아래와 같은 상태입니다.

> 불필요한 `alert` 관련 코드는 삭제했습니다.

```js copy filename="app.js" showLineNumbers
/* 마우스를 올리시면 우측에 복사할 수 있는 버튼이 나타나요! 👉🏻 */
const rightArrow = document.querySelector(".right.arrow");
const lists = document.querySelectorAll("li");

let currentImageIndex = 0;

rightArrow.onclick = function () {
  lists[0].classList.remove("show");
  lists[1].classList.remove("show");
  lists[2].classList.remove("show");
  lists[3].classList.remove("show");
  lists[4].classList.remove("show");

  currentImageIndex = currentImageIndex + 1;

  if (currentImageIndex === 5) {
    currentImageIndex = 0;
  }

  lists[currentImageIndex].classList.add("show");
};
```

이 상태로 HTML 파일을 브라우저에서 열고, 우측 방향 아이콘을 클릭해보면 이미지가 부드럽게 변경되는 것을 확인할 수 있습니다. 👏🏻

#### [보너스] JavaScript 반복문을 활용한 개선

현재 우리 코드에는 아래와 같은 반복되는 로직이 있습니다.

```js
lists[0].classList.remove("show");
lists[1].classList.remove("show");
lists[2].classList.remove("show");
lists[3].classList.remove("show");
lists[4].classList.remove("show");
```

위의 반복되는 구문을 반복문이라는 문법을 활용하여 작성한다면 아래와 같이 작성할 수 있습니다.

```js
for (let i = 0; i < 5; i++) {
  lists[i].classList.remove("show");
}
```

위 반복문은 0부터 5 미만까지 `i`값을 증가시키며 중괄호 내부 구문을 반복하여 실행하는 명령어입니다.

<Callout type="info" emoji="ℹ️">
어떤 방식이 더 나은지에 대한 정답은 존재하지 않습니다. 상황에 따라 각 방식의 장단점을 비교하고 최선의 선택을 하는 것일 뿐입니다.
</Callout>

## 8. 좌측 방향 아이콘 클릭 기능 추가하기

지금까지 우리는 우측 방향 아이콘을 클릭했을때 어떻게 대응해야 하는지에 대해 기능을 구현해보았습니다.

좌측 방향 아이콘을 클릭했을때 어떻게 동작해야 하는지 구현하는 부분은 여러분께서 이전 단계의 내용을 참고삼아, 스스로 구현해보시면 좋은 연습이 될 것 같습니다. 👏🏻

> 좌측 방향 아이콘을 클릭하면 바로 이전 이미지가 보여지도록 하고, 첫 이미지에서 마지막 이미지로 순환될 수 있도록 작업해주세요.

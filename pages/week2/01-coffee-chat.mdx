import { Alert, Collapse } from "antd";

# ☕️ Coffee Chat

## 다시 보는 자바스크립트 기초상식

<br />
<br />

### for loop 반복문의 구조

반복문을 한번 자세히 살펴보도록 하겠습니다.

for loop에는 세미콜론과 중괄호를 기준으로 크게 4가지 파트가 있습니다.

```js
for (1번 초기 구동 구절; 2번 조건 구절; 4번 업데이트 구절) {
  3번 반복 구절
}
```

<br />
<br />

#### 1번 초기 구동 구절 (Initial phrase)

반복문의 초기 구동 구절입니다.

반복문의 실행이 시작되는 시점에 가장 먼저 실행되는 부분이며, **반복문 실행 초기에 단 한번만 실행**됩니다. 일반적으로 for loop에서 사용되는 변수 선언을 하는 용도로 가장 많이 사용합니다.

<br />
<br />

#### 2번 조건 구절 (Conditional phrase)

반복문의 조건 구절입니다.

반복문의 3번 반복 구절로 진입할지에 대한 결정을 책임지는 구절입니다. 조건 구절의 조건이 성립하지 않는다면, 반복문의 실행은 종료됩니다. 조건 구절의 성립 여부는 Truthy인지 Falsy인지를 의미합니다.

아래에 나열된 값들은 자바스크립트의 모든 Falsy 값들입니다. 나열되지 않은 모든 값들은 Truthy입니다.

```js
0
-0
false
undefined
null
""
''
``
NaN
```

<br />
<br />

#### 3번 반복 구절 (Repeat phrase)

반복문의 반복 구절입니다.

반복하여 실행할 로직을 써넣는 곳입니다.

<br />
<br />

#### 4번 업데이트 구절 (Update phrase)

반복문의 업데이트 구절입니다.

반복 구절의 실행이 끝난 직후마다 매번 실행되는 구절입니다. 예를 들어, 반복 구절이 3번 실행된다면, 업데이트 구절 또한 3번 실행됩니다.

<br />
<br />

#### 실행 순서

1~4번 구절에 대한 상세 내용을 예제와 함께 살펴보겠습니다.

```js
for (let i = 1; i < 3; i++) {
  console.log(i);
}
```

1. 1번 초기 구동 구절 실행
   * 변수 `i`를 선언하고 1이라는 숫자값을 할당합니다.
2. 2번 조건 구절 실행
   * `i < 3`를 실행하고, 현재 `i`는 1이므로 결과는 `true`입니다.
   * Truthy 값이 나왔으므로 3번 반복 구절가 실행될 수 있습니다.
3. 3번 반복 구절이 실행됩니다.
   * `i`의 값을 콘솔에 출력합니다.
   * 현재 `i`는 1이므로 1을 출력합니다.
4. 3번 반복 구절이 끝났으므로 4번 업데이트 구절이 실행됩니다.
   * `i++`를 실행하고, `i`의 값이 2로 증가합니다.
5. 2번 조건 구절 실행
   * `i < 3`을 실행하고, 현재 `i`는 2이므로 결과는 `true`입니다.
   * Truthy 값이 나왔으므로 3번 반복 구절이 실행될 수 있습니다.
6. 3번 반복 구절이 실행됩니다.
   * `i`의 값을 콘솔에 출력합니다.
   * 현재 `i`는 2이므로 2을 출력합니다.
7. 3번 반복 구절이 끝났으므로 4번 업데이트 구절이 실행됩니다.
   * `i++`를 실행하고, `i`의 값이 3으로 증가합니다.
8. 2번 조건 구절 실행
   * `i < 3`을 실행하고, 현재 `i`는 3이므로 결과는 `false`입니다.
   * Falsy 값이 나왔으므로 3번 반복 구절이 실행될 수 없습니다.
9. 반복문이 종료됩니다.

<br/>
<Alert
  showIcon
  message="반복문의 실행 흐름을 대수롭지 않게 보았다가 큰 코 다치는 경우가 많습니다. 반드시 항상 유념하시고, 디버깅 시에도 항상 위의 흐름을 꼼꼼히 추적하도록 하세요."
  type="info"
/>

> [for..of](https://developer.mozilla.org/ko/docs/Web/JavaScript/Reference/Statements/for...of)는 위에 언급한 일반 for loop과는 완전히 다릅니다. 자세히 알고 사용하세요.

<br />
<br />

### 함수 생성과 함수 실행

초보자 분들이 자주 혼돈하는 부분 중 하나가 함수를 선언하는 코드와 함수를 실행하는 코드입니다. 이 두 가지를 명확하게 잘 구분할 줄 아는 것은 자바스크립트 코드를 이해하는데 있어 매우 중요합니다.

아래의 예시 코드를 한번 살펴봅시다.

<br />
<br />

##### 예시 1-1.

```js showLineNumbers copy
function printValue (value) {
  console.log(value);
}

for (let i = 1; i <= 3; i++) {
  printValue(i);
}
```

위의 예시 코드를 잘 살펴보시고, 아래의 예시 코드와 비교해보세요.

##### 예시 1-2.

```js showLineNumbers copy
for (let i = 1; i <= 3; i++) {
  function printValue (value) {
    console.log(value);
  }

  printValue(i);
}
```

<br />
<Collapse>
  <Collapse.Panel header="최소 2분 정도 신중하게 1-1과 1-2의 차이점에 대해 생각해보셨다면, 이 설명을 읽어보세요.">
    <p>
      **1-1에 대한 해석**

      1. 1번째 줄에서 `printValue` 함수를 선언(생성)합니다.
      2. 반복문이 시작되어 **1번 단계에서 생성한 `printValue` 함수를** 3번 반복하여 실행합니다.

      ---

      **1-2에 대한 해석**

      1. `i`가 1로 초기화되어 반복문이 시작됩니다.
      2. `printValue` 함수가 선언(생성)됩니다.
      3. 2번 단계에서 생성한 `printValue` 함수에 1을 대입하여 실행합니다.
      4. `i`가 2로 증가하고, `i`는 3보다 작거나 같으므로 다시 반복 구절이 실행됩니다.
      5. `printValue` 함수가 선언(생성)됩니다. **(2번 단계에서 생성된 함수와는 다른/새로운 함수입니다.)**
      6. 5번 단계에서 생성한 `printValue` 함수에 2를 대입하여 실행합니다.
      7. `i`가 3으로 증가하고, `i`는 3보다 작거나 같으므로 다시 반복 구절이 실행됩니다.
      8. `printValue` 함수가 선언(생성)됩니다. **(2번, 5번 단계에서 생성된 함수와는 다른/새로운 함수입니다.)**
      9. 8번 단계에서 생성한 `printValue` 함수에 3를 대입하여 실행합니다.
      10. `i`가 4로 증가하고, `i`는 3보다 작거나 같지 **않으므로** 반복문이 종료됩니다.

      함수도 객체, 즉 참조값 형태의 자료형이므로 기존 포스트잇과 다시금 비유하자면,
      
      현재 1-2 예시 코드에서 `printValue`라는 모양의 함수는 매 반복 횟수마다 1번씩 생성되어 총 3번 생성되었습니다. 매 반복 횟수마다 생성된 `printValue` 함수는 각각 3군데의 다른 위치에 저장되었을 것이고, 반복문이 1회 반복될때마다 포스트잇이 1개씩 생성되어 그 위치를 가리키게 되었던 것입니다.

      우리 눈에는 시각적으로 똑같아 보이는 코드이지만, 반복문 내부에서 반복되는 구절이라는 맥락을 이해하고 본다면 **매 반복 횟수마다 실행되는 `printValue`라는 함수가 완전히 동일한 함수라고 볼 수는 없다는 의미**입니다.
    </p>
  </Collapse.Panel>
</Collapse>

<br />
<br />

##### 예시 2-1.

```js showLineNumbers copy
const listElements = document.querySelectorAll(".some-list");

let clickCount = 0;

for (let i = 0; i < listElements.length; i++) {
  listElements[i].addEventListener("click", function onListClick(event) {
    clickCount++;
    event.target.textContent = `User clicked: ${clickCount} times.`;
  });
}
```

위의 예시 코드에 주어진 반복문에서 우리는 어떤 코드를 실행하고 있나요? 여러분께서 이해하기 조금 더 쉽도록 동일한 내용을 유지한채 형태를 약간 변경해보도록 하겠습니다.

##### 예시 2-2.

```js showLineNumbers copy
const listElements = document.querySelectorAll(".some-list");

let clickCount = 0;

for (let i = 0; i < listElements.length; i++) {
  function onListClick(event) {
    clickCount++;
    event.target.textContent = `User clicked: ${clickCount} times.`;
  }

  listElements[i].addEventListener("click", onListClick);
}
```

지금 보시는 2-2의 예시 코드는 2-1의 예시 코드와 **완벽하게 동일한 코드**입니다. 1-2의 예시 코드를 다시 한번 되돌아 봤을때, 2-1의 예시 코드가 **정확히** 어떤 로직을 실행하는지 이해가 되셨나요?

결국, 2-1 예시 코드의 반복문에서 우리는 각 요소에 대해 `addEventListener`를 실행합니다. 정확히 말하자면, `addEventListener` 함수를 실행하며 첫 번째 인자로 `"click"`이라는 문자열을, 그리고 두 번째 인자로는 `onListClick` 함수를 생성하여 전달하고 있습니다. **그 과정에서 `onListClick`이라는 함수를 `listElements`의 갯수만큼 생성하고 있는 것입니다.**

이해가 되셨을까요?

<br/>
<Alert
  showIcon
  message="함수의 선언(생성)과 실행을 명확하게 구분하는 것은 추후 비동기, 클로져, 재귀 함수 등 난이도 높은 자바스크립트 개념들을 이해하는데 있어 매우 중요합니다. 반드시 이해할 수 있도록 하세요."
  type="info"
/>

<br/>
<br/>

## 🥸 미리 준비하는 기술면접

<br />
<Alert
  showIcon
  message="이번주 학습 내용과 관련이 깊은 기술면접 질문 목록입니다. 평일에는 개념이해 후 과제작업에 집중하시고, 주말에는 추가적인 리서치와 본인만의 방식으로 노션이나 블로그 등의 공간에 정리하는 시간을 갖도록 하세요. 정리한 내용 중 다음 과제에서 적용해볼 수 있는 부분은 반드시 시도해보세요."
  type="info"
/>

- `var{:js}`, `let{:js}`, `const{:js}`의 차이점, 그리고 사용 컨벤션에 대해 최대한 자세히 설명해보세요.
- 자바스크립트는 싱글 스레드라고 합니다. 스레드란 무엇인가요? 브라우저도 싱글 스레드일까요?
- 자바스크립트에는 다양한 고차함수 형식의 메소드가 있습니다. 적용해 본 경험에 대해 설명해보세요.
- 비동기 콜백 패턴의 단점은 어떤 것들이 있을까요?
- 자바스크립트의 Strict Mode에 대해 설명해보세요.
- 렉시컬 환경, 렉시컬 스코프, 렉시컬 바인딩이란 무엇인가요?
- `0.1 + 0.2 === 0.3{:js}`는 왜 `false`인가요?
